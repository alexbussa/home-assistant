title: Home Assistant
resources:
  - url: /local/button-card.js?v=0.5.0
    type: module
  - url: /local/mini-media-player-bundle.js?v=1.0.4
    type: module
  - url: /local/bignumber-card.js
    type: module
  - url: /local/card-tools.js
    type: js
  - url: /local/secondaryinfo-entity-row.js
    type: module
views:
  - icon: mdi:home-assistant
    title: Home
    path: home
    cards:
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - entity: sensor.dashboard_home_state
                state: "Secure"
            card:
              type: entities
              entities:
                - entity: sensor.dashboard_home_state
                  name: Home
              show_header_toggle: false
          - type: conditional
            conditions:
              - entity: binary_sensor.garage_actual
                state: "on"
            card:
              type: entities
              entities:
                - entity: script.trigger_garage_door_opener
                  name: Garage Actual Door Opener
          - type: conditional
            conditions:
              - entity: lock.august_smart_lock_pro_front_door
                state: "unlocked"
              - entity: lock.august_smart_lock_pro_garage_door
                state: "unlocked"
            card:
              type: entities
              entities:
                - entity: lock.august_smart_lock_pro_front_door
                  name: Front Door
                - entity: lock.august_smart_lock_pro_garage_door
                  name: Garage Door
          - type: conditional
            conditions:
              - entity: lock.august_smart_lock_pro_front_door
                state: "unlocked"
              - entity: lock.august_smart_lock_pro_garage_door
                state: "locked"
            card:
              type: entities
              entities:
                - entity: lock.august_smart_lock_pro_front_door
                  name: Front Door
          - type: conditional
            conditions:
              - entity: lock.august_smart_lock_pro_front_door
                state: "locked"
              - entity: lock.august_smart_lock_pro_garage_door
                state: "unlocked"
            card:
              type: entities
              entities:
                - entity: lock.august_smart_lock_pro_garage_door
                  name: Garage Door
          - type: conditional
            conditions:
              - entity: group.all_doors
                state: "on"
            card:
              type: entity-filter
              entities:
                - entity: binary_sensor.garage_door
                - entity: binary_sensor.front_door
                - entity: binary_sensor.patio_door
                - entity: binary_sensor.den_door
              state_filter:
                - "on"
              card:
                type: entities
                show_header_toggle: false
          - type: conditional
            conditions:
              - entity: group.all_windows
                state: "on"
            card:
              type: entity-filter
              entities:
                - entity: binary_sensor.kitchen_windows
                - entity: binary_sensor.living_room_windows
                - entity: binary_sensor.rec_room_windows
                - entity: binary_sensor.bedroom_windows
                - entity: binary_sensor.den_windows
                - entity: binary_sensor.guest_bedroom_windows
              state_filter:
                - "on"
              card:
                type: entities
                show_header_toggle: false
          - type: conditional
            conditions:
              - entity: sensor.state_all_services_up
                state: "off"
            card:
              type: entity-filter
              entities:
                - entity: sensor.service_status_home_assistant
                  name: Home Assistant
                - entity: sensor.service_status_dashboard
                  name: Dashboard Server
                - entity: sensor.service_status_plex
                  name: Plex
                - entity: sensor.service_status_sonarr
                  name: Sonarr
                - entity: sensor.service_status_sabnzbd
                  name: SABnzbd
                - entity: sensor.service_status_tautulli
                  name: Tautulli
                - entity: sensor.service_status_grafana
                  name: Grafana
                - entity: sensor.service_status_unifi_network
                  name: UniFi Network
                - entity: sensor.service_status_unifi_protect
                  name: UniFi Protect
              state_filter:
                - "Down"
              card:
                type: entities
                show_header_toggle: false
      - type: entities
        show_header_toggle: false
        entities:
#          - device_tracker.alexs_iphone_geofency
#          - device_tracker.octavia
          - entity: sensor.device_tracker_alex
            type: "custom:secondaryinfo-entity-row"
            secondary_info: '[[ if(input_select.octavia_driver == "Alex", sensor.octavia.attributes.City, "") ]]'
          - entity: sensor.octavia
            type: "custom:secondaryinfo-entity-row"
            secondary_info: '[[ device_tracker.octavia.attributes.fuel_level ]]% Fuel Remaining'
          - sensor.dark_sky_temperature
          - sensor.golden_hour
          - sensor.dashboard_current_mode

    
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: input_boolean.trigger_guest_mode
            show_name: false
            state:
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
          - type: "custom:button-card"
            entity: input_boolean.trigger_home_theater_mode
            show_name: false
            state:
              - value: "on"
                color: var(--paper-orange-400)
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
          - type: "custom:button-card"
            entity: input_boolean.trigger_sleep_mode
            show_name: false
            state:
              - value: "on"
                color: var(--paper-blue-400)
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
      - type: conditional
        conditions:
          - entity: sensor.tautulli_total_streams
            state_not: "0"
        card:
          type: entities
          entities:
            - entity: sensor.tautulli_total_streams
              name: Plex Streams
              icon: mdi:plex
              tap_action:
                action: navigate
                navigation_path: /lovelace/4              
          show_header_toggle: false


  - icon: mdi:lightbulb
    title: Lights
    path: lights
    cards:
      - type: conditional
        conditions:
          - entity: sensor.simulate_presence_mode
            state: "Lights On"
        card:
          type: entities
          entities:
            - entity: sensor.simulate_presence_mode
              name: Simulating Presence
          show_header_toggle: false
      - type: conditional
        conditions:
          - entity: sensor.simulate_presence_mode
            state: "Lights Off"
        card:
          type: entities
          entities:
            - entity: sensor.simulate_presence_mode
              name: Simulating Presence
          show_header_toggle: false
      - type: conditional
        conditions:
          - entity: sensor.simulate_presence_mode
            state: "Delay"
        card:
          type: entities
          entities:
            - entity: sensor.simulate_presence_mode
              name: Simulating Presence
          show_header_toggle: false
      - type: conditional
        conditions:
          - entity: sensor.simulate_presence_mode
            state: "Error"
        card:
          type: entities
          entities:
            - entity: sensor.simulate_presence_mode
              name: Simulating Presence
          show_header_toggle: false
      - type: entities
        title: Lights
        show_header_toggle: false
        entities:
          - type: section
            label: Garage
          - entity: light.garage_lights
            name: Garage
          - entity: light.garage_stairs
            name: Garage Stairs
          - type: section
            label: Downstairs
          - entity: light.downstairs_hallway
            name: Downstairs Hallway
          - entity: light.kitchen
            name: Kitchen
          - entity: light.patio_lights
            name: Patio
          - entity: light.patio_string_lights
            name: Patio Ambient
          - entity: light.living_room
            name: Living Room
          - entity: light.tv_ambient
            name: TV Ambient
          - type: section
            label: Upstairs
          - entity: light.main_stairs
            name: Main Stairs
          - entity: light.upstairs_hallway
            name: Upstairs Hallway
          - entity: light.bedroom_hallway
            name: Bedroom Hallway
          - entity: light.bedroom_closet_lights
            name: Bedroom Closet
          - entity: light.laundry_lights
            name: Laundry
          - entity: light.den_hallway
            name: Den Hallway
          - entity: light.den_cabinets
            name: Den Cabinets
          - entity: light.guest_bedroom_closet_lights
            name: Guest Bedroom Closet
  - icon: mdi:thermostat
    cards:
      - type: thermostat
        entity: climate.downstairs
      - type: thermostat
        entity: climate.upstairs
      - type: entities
        title: Outside
        show_header_toggle: false
        entities:
          - sensor.dark_sky_temperature
          - sensor.dark_sky_daytime_high_temperature_0d
          - sensor.dark_sky_overnight_low_temperature_0d
          - sensor.dark_sky_humidity
          - sensor.dark_sky_precip_probability
          - sensor.golden_hour
  - icon: mdi:music
    title: Sonos
    path: sonos
    cards:
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_kitchen"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_kitchen
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_living_room"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_living_room
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_rec_room"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_rec_room
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_bedroom"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_bedroom
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_bathroom"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_bathroom
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true
          - type: conditional
            conditions:
              - entity: sensor.sonos_group_master
                state: "media_player.sonos_den"
            card:
              type: custom:mini-media-player
              entity: media_player.sonos_den
              name: Den
              source: icon
              hide:
                power: power
                volume: true
                mute: true
                progress: true

          - type: entities
            title: Sonos
            show_header_toggle: false
            entities:
              - input_select.master_sonos
              - entity: input_boolean.sonos_kitchen
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_kitchen.attributes.volume_level ]]'
              - entity: input_boolean.sonos_living_room
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_living_room.attributes.volume_level ]]'
              - entity: input_boolean.sonos_rec_room
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_rec_room.attributes.volume_level ]]'
              - entity: input_boolean.sonos_bedroom
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_bedroom.attributes.volume_level ]]'
              - entity: input_boolean.sonos_bathroom
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_bathroom.attributes.volume_level ]]'
              - entity: input_boolean.sonos_den
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Volume: [[ media_player.sonos_den.attributes.volume_level ]]'
  - icon: mdi:television
    title: Home Theater
    path: home_theater
    cards:
      - type: custom:mini-media-player
        entity: media_player.living_room_apple_tv
        hide:
          power: power
          source: true
          volume: true
          mute: true
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: remote.living_room_apple_tv
            show_name: false
            state:
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
          - type: "custom:button-card"
            entity: input_boolean.trigger_home_theater_mode
            show_name: false
            state:
              - value: "on"
                color: var(--paper-orange-400)
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
          - type: "custom:button-card"
            entity: media_player.denon_avr_x4300h
            icon: mdi:audio-video
            show_name: false
            state:
              - value: "on"
                color: var(--paper-blue-400)
              - value: "off"
                color: var(--disabled-text-color)
            tap_action:
                action: toggle
            hold_action:
                action: none
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: gauge
                name: WAN
                entity: sensor.tautulli_wan_bandwidth
                min: 0
                max: 1000
                severity:
                  green: 0
                  yellow: 45
                  red: 85          
              - type: gauge
                name: LAN
                entity: sensor.tautulli_lan_bandwidth
                min: 0
                max: 1000
                severity:
                  green: 0
                  yellow: 45
                  red: 85
          - type: horizontal-stack
            cards:
              - type: custom:bignumber-card
                title: Transcodes
                scale: 25px
                entity: sensor.tautulli_count_transcode
              - type: custom:bignumber-card
                title: Direct Plays
                scale: 25px
                entity: sensor.tautulli_direct_plays
              - type: custom:bignumber-card
                title: Direct Streams
                scale: 25px
                entity: sensor.tautulli_direct_streams
          - type: conditional
            conditions:
              - entity: sensor.tautulli_total_streams
                state_not: "0"
            card:
              type: entity-filter
              entities:
                - entity: sensor.tautulli_user1
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user1_playing != "off", sensor.tautulli_user1_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user2
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user2_playing != "off", sensor.tautulli_user2_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user3
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user3_playing != "off", sensor.tautulli_user3_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user4
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user4_playing != "off", sensor.tautulli_user4_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user5
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user5_playing != "off", sensor.tautulli_user5_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user6
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user6_playing != "off", sensor.tautulli_user6_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user7
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user7_playing != "off", sensor.tautulli_user7_playing, "Nothing playing") ]]'
                - entity: sensor.tautulli_user8
                  type: "custom:secondaryinfo-entity-row"
                  secondary_info: '[[ if(sensor.tautulli_user8_playing != "off", sensor.tautulli_user8_playing, "Nothing playing") ]]'
              state_filter:
                - "Playing"
                - "Paused"
                - "Buffering"
              card:
                type: entities
                show_header_toggle: false

  - icon: mdi:shield-home
    title: Security
    path: security
    cards:
      - type: entities
        title: Doors
        show_header_toggle: false
        entities:
          - type: section
            label: Locks
          - entity: lock.august_smart_lock_pro_front_door
            name: Front Door
          - entity: lock.august_smart_lock_pro_garage_door
            name: Garage Door
          - type: section
            label: Garage
          - binary_sensor.garage_actual
          - binary_sensor.garage_door
          - type: section
            label: Downstairs
          - binary_sensor.front_door
          - binary_sensor.patio_door
          - type: section
            label: Upstairs
          - binary_sensor.den_door
      - type: entities
        title: Windows
        show_header_toggle: false
        entities:
          - type: section
            label: Downstairs
          - binary_sensor.kitchen_windows
          - binary_sensor.living_room_windows
          - binary_sensor.rec_room_windows
          - type: section
            label: Upstairs
          - binary_sensor.bedroom_windows
          - binary_sensor.den_windows
          - binary_sensor.guest_bedroom_windows
      - type: entities
        title: Motion
        show_header_toggle: false
        entities:
          - type: section
            label: Garage
          - entity: binary_sensor.garage_motion_sensor
            name: Garage
          - entity: binary_sensor.garage_stairs_multisensor_sensor
            name: Garage Stairs
          - type: section
            label: Downstairs
          - entity: binary_sensor.ring_front_door_motion
            name: Front Door
          - entity: binary_sensor.downstairs_hallway_multisensor_sensor
            name: Downstairs Hallway
          - entity: binary_sensor.living_room_motion_sensor
            name: Living Room
          - entity: binary_sensor.main_stairs_multisensor_sensor
            name: Main Stairs
          - type: section
            label: Upstairs
          - entity: binary_sensor.upstairs_hallway_motion_sensor
            name: Upstairs Hallway
          - entity: binary_sensor.den_multisensor_sensor
            name: Den Hallway
          - entity: binary_sensor.den_trisensor_sensor  
            name: Den
      - type: entities
        title: Active Mode Monitoring
        show_header_toggle: false
        entities:
          - sensor.sunset_mode
          - sensor.night_mode
          - sensor.guest_mode
          - sensor.home_theater_mode
          - sensor.sleep_mode
          - sensor.simulate_presence_mode
  - icon: mdi:heart-pulse
    title: Health
    path: health
    cards:
      - type: entities
        title: Servers
        show_header_toggle: false
        entities:
          - type: section
            label: Overwatch
          - entity: sensor.overwatch_cpu_load
            name: Load
          - entity: sensor.overwatch_cpu_temp
            name: CPU Temp
          - entity: sensor.overwatch_ram_used
            name: RAM Used
          - type: section
            label: Woodhouse
          - entity: sensor.woodhouse_cpu_load
            name: Load
          - entity: sensor.woodhouse_cpu1_temp
            name: CPU1 Temp
          - entity: sensor.woodhouse_cpu2_temp
            name: CPU2 Temp
          - entity: sensor.woodhouse_ram_used
            name: RAM Used
      - type: entities
        title: Services
        show_header_toggle: false
        entities:
          - type: section
            label: Overwatch
          - entity: sensor.service_status_home_assistant
            name: Home Assistant
          - entity: sensor.service_status_dashboard
            name: Dashboard Server
          - type: section
            label: Woodhouse
          - entity: sensor.service_status_plex
            name: Plex
          - entity: sensor.service_status_sonarr
            name: Sonarr
          - entity: sensor.service_status_sabnzbd
            name: SABnzbd
          - entity: sensor.service_status_tautulli
            name: Tautulli
          - entity: sensor.service_status_grafana
            name: Grafana
          - type: section
            label: UniFi
          - entity: sensor.service_status_unifi_network
            name: Network
          - entity: sensor.service_status_unifi_protect
            name: Protect
      - type: entities
        title: Network
        show_header_toggle: false
        entities:
          - type: section
            label: External
          - entity: sensor.network_status_cox_wan
            name: Cox WAN
          - entity: sensor.network_status_vpn_wan
            name: VPN WAN
          - entity: sensor.network_status_vpn2_wan
            name: VPN2 WAN
          - entity: sensor.network_status_vpn3_wan
            name: VPN3 WAN
          - type: section
            label: Internal
          - entity: sensor.network_status_lan
            name: LAN
          - entity: sensor.network_status_vl40_iot
            name: VL40 IoT
          - entity: sensor.network_status_vl50_guest
            name: VL50 Guest
          - type: section
            label: Hardware
          - entity: sensor.network_pfsense
            name: pfSense
          - entity: sensor.network_unifi_cloudkey
            name: UniFi Cloud Key Plus
          - entity: sensor.network_unifi_switch_16
            name: UniFi Switch 16
          - entity: sensor.network_unifi_switch_8_downstairs
            name: UniFi Switch 8 - Downstairs
          - entity: sensor.network_unifi_switch_8_upstairs
            name: UniFi Switch 8 - Upstairs
          - entity: sensor.network_unifi_ap_downstairs
            name: UniFi AP - Downstairs
          - entity: sensor.network_unifi_ap_upstairs
            name: UniFi AP - Upstairs
      - type: entities
        title: Battery Level
        show_header_toggle: false
        entities:
          - type: section
            label: Locks
          - entity: sensor.battery_august_front_door
            name: Front Door
          - entity: sensor.battery_august_garage_door
            name: Garage Door
          - type: section
            label: Sensors
          - sensor.battery_garage_stairs_multisensor
          - sensor.battery_garage_motion_sensor
          - sensor.battery_front_door_ring_pro
          - sensor.battery_downstairs_hallway_multisensor
          - sensor.battery_main_stairs_multisensor
          - sensor.battery_bedroom_closet_door_sensor
          - sensor.battery_laundry_door_left_sensor
          - sensor.battery_laundry_door_right_sensor
          - sensor.battery_den_multisensor
          - sensor.battery_den_trisensor
          - sensor.battery_guest_bedroom_closet_door_sensor
          - type: section
            label: UPS
          - entity: sensor.battery_server_rack_ups
            name: Server Rack
      - type: entities
        title: Zwave Devices
        show_header_toggle: false
        entities:
          - type: section
            label: Locks
          - entity: zwave.august_smart_lock_pro_front_door
            name: Front Door
          - entity: zwave.august_smart_lock_pro_garage_door
            name: Garage Door
          - type: section
            label: Sensors
          - zwave.bedroom_closet_door_sensor
          - zwave.den_multisensor
          - zwave.downstairs_hallway_multisensor
          - zwave.garage_actual
          - zwave.garage_motion_sensor
          - zwave.garage_stairs_multisensor
          - zwave.guest_bedroom_closet_door_sensor
          - zwave.laundry_door_left_sensor
          - zwave.laundry_door_right_sensor
          - zwave.main_stairs_multisensor
          - type: section
            label: Switches
          - zwave.bedroom_closet_switch
          - zwave.bedroom_hallway_dimmer
          - zwave.den_hallway_dimmer
          - zwave.downstairs_hallway_dimmer
          - zwave.garage_actual
          - zwave.garage_stairs_dimmer
          - zwave.garage_switch
          - zwave.guest_bedroom_closet_switch
          - zwave.kitchen_dimmer
          - zwave.laundry_switch
          - zwave.living_room_dimmer
          - zwave.main_stairs_dimmer
          - zwave.patio_switch
          - zwave.patio_string_lights_outlet
          - zwave.upstairs_hallway_dimmer
          - type: section
            label: Hubs
          - zwave.zstick
